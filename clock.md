# 零基础小白上手组装时钟记录

看到up主分享的开源时钟，不需要焊板子，看得懂连线图就能做，于是心血来潮买齐了电子元器件，准备自己动手组装一个时钟。
由于没有任何电子电路的基础，中间也遇到了一些问题，也请教了Up主两次，挺不好意思的，所以把我遇到的问题记录一下，希望对大家有所帮助。

## 购买材料
### 物品清单
1. wifi物联网 ESP8266开发板 V3 ESP-12N F NodeMcu Lua CP2102
   12.7元

2. DS3231 AT24C32 高精度时钟模块 IIC模块 存储模块
   5.6元

3. MAX7219点阵模块 4合一显示屏模块 单片机控制驱动模块 送5P线(我买的**蓝色**，红色13块钱左右搞定)
   21元

4. 40P杜邦线 母对母 2.54mm 20CM
   1.3元

共计：40.6元
备注：连接线只需要5根，而且我买的是20cm的，感觉10cm的就可以，小一些好塞进去。

### 店铺名称 
信泰微电子 电子元器件
## 操作流程
下载up主给的资料后，发现有外壳打印文件，有固件（firmware),有接线图。我们要做的就是把板子和电脑接通，使用Arduino IDE把固件上传到板子里面去。
主要参考教程[2]中的第三部分:
1. 先下载时钟的驱动
2. 下载arduinoIDE
3. 更换为NodeMcu模式的
4. 然后选择通信串口
5. 上传程序（咨询up后发现，我使用的ESP8266_cp2102版已经可以自动下载，不需要按按钮。不过我还是按了，才点击上传的，没啥问题）


    >大家在把时钟硬件通过USB连接到电脑后需要先装驱动，我们使用的是南京沁恒微电子的CH340N，大家直接到他们公司官网下载安装就可以了。
    >
    >大家如果第一次使用arduino IDE的话，需要先下载安装，很简单这里不做介绍。然后用arduino IDE打开项目文件，因为arduino初始状态是不支持ESP8266开发板的，而我们这个时钟是基于NodeMcu来设计的，所以大家可以直接安装NodeMcu的开发板就可以了。具体过程就是在文件-首选项-设置-附件开发板管理器网址里面输入：http://arduino.esp8266.com/stable/package_esp8266com_index.json。然后到工具-开发板里面选择NodeMcu 1.0(ESP-12E Module)。
    >
    >都准备好，就可以编译了，根据提示安装相应的库文件。在工具-端口里面选择我们板子所在com口，然后在我们的板子上面按住Download键，然后再轻按一下Reset键，然后两手松开就进入了下载模式。这时IDE上面点击上传，待进度条走完就完成下载了。

## 问题解决
1. 可能会遇到的闪屏问题。 
   ESP8266有两个版本，一个是**ch340**,需要焊接。另一个是**cp2102版**。我提前看了评论区，因为不会焊接，所以买了up推荐的cp2102版。
   >UP主的解答：我怀疑是你买的nodemcu的问题，请问是不是ch340版本，如果是，靠近vin引脚有没有两个贴片二极管，如果有把靠近vin那个二极管短路即可解决这个问题。
   >如果没有电烙铁建议退货换**cp2102版nodemcu**。
2. 串口连接问题
   我遇到的问题是，将usb线连接到电脑后，arduino找不到对应的串口。 后来分析原因是，我用的是充电宝的线，可能无法传输数据，后来更换一条数据线，顺利上传程序。
   好像也有无线连接的模式，后面再研究吧。
3. Wi-Fi连接设置
   我手机是ios,应用商店找不到up说的那个程序，我是参考了一个arduino的一个样例程序，写入自己的wifi密码，完成wifi的连接。请参考[3]中连接wifi的示例。
4. 外加电源设置
   最开始调试，使用usb连接线供电，调试好以后准备用充电头供电，把时钟摆放在书桌上。从卖家和up主处了解到的信息，完全可以使用5V1A的充电头供电。 
   >Up主的解答是：电流怕小不怕大，越大反而更稳定。ESP8266供电是3.3V，但是Node MCU板子上已经有稳压芯片了，就是将5V转成3.3V，所以Node MCU的供电是5V。
我的解决方法是 用手机充电头接USB线，接上板子的接口。

5. 还差一个盒子
   待我去淘一个

## 参考资料
[1]  [32元打造高精度WiFi时钟，保证每个人都能做出来，全开源](https://www.bilibili.com/video/BV1yz4y1r7XE) //效果呈现
[2]  [烧录程序教程](https://mp.weixin.qq.com/s/CzFLiuspfYBcMXaWzcPgMA)//软件安装
[3]  [使用Arduino IDE对NodeMCU ESP8266进行空中编程（OTA）](https://www.yiboard.com/thread-1383-1-1.html)  //连接WiFi
[4]  [查看电脑的usb端供电](https://support.apple.com/zh-cn/HT204377)

##感想
这种DIY的乐趣在于通过已有的知识去通往未知。不断的找方法去解决。每个人遇到的问题都不一样，每个人的知识储备也不一样。所以每个人最终获得的成就也不一样。
感谢UP的无私分享，感谢评论区的大佬们答疑解惑，希望我的这篇也对大家有所帮助哈
